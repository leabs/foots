---
import { ViewTransitions } from 'astro:transitions'
interface Props {
  title: string
}

const { title } = Astro.props
---

<!doctype html>
<html lang='en'>
  <head>
    <meta charset='UTF-8' />
    <meta name='description' content='Astro description' />
    <meta name='viewport' content='width=device-width' />
    <link rel='icon' type='image/svg+xml' href='/favicon.svg' />
    <meta name='generator' content={Astro.generator} />
    <title>{title}</title>
    <ViewTransitions />
  </head>
  <body
    class='w-full overflow-hidden h-screen bg-light text-dark dark:bg-dark dark:text-light'
  >
    <div
      class='bg-gradient-to-bl from-orange/10 via-bluegreen/25 to-yellow/10 rounded'
    >
      <slot />
    </div>
    <script is:inline>
      const theme = (() => {
        if (
          typeof localStorage !== 'undefined' &&
          localStorage.getItem('theme')
        ) {
          return localStorage.getItem('theme')
        }
        if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
          return 'dark'
        }
        return 'light'
      })()

      if (theme === 'light') {
        document.documentElement.classList.remove('dark')
      } else {
        document.documentElement.classList.add('dark')
      }
      window.localStorage.setItem('theme', theme)
    </script>

    <style is:global>
      /* Firefox */
      * {
        scrollbar-width: thin;
        scrollbar-color: transparent;
      }

      /* Chrome, Edge, and Safari */
      *::-webkit-scrollbar {
        width: 10px;
      }

      *::-webkit-scrollbar-track {
        background-color: rgba(255, 183, 3, 0.2);
        border-radius: 5px;
      }

      *::-webkit-scrollbar-thumb {
        background: linear-gradient(
          to top,
          rgba(251, 133, 0, 0.7),
          rgba(255, 183, 3, 0.7),
          rgba(251, 133, 0, 0.4)
        );
        border-radius: 5px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(
          to top,
          rgba(251, 133, 0, 1),
          rgba(255, 183, 3, 1),
          rgba(251, 133, 0, 1)
        );
      }

      ::-webkit-scrollbar-track-piece {
        background-color: transparent;
      }

      ::-webkit-scrollbar-corner {
        background-color: transparent;
      }
    </style>
  </body>
</html>
